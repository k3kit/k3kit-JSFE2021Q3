(()=>{"use strict";var n,t,a,e,s,c={257:(n,t,a)=>{a.d(t,{Rn:()=>r,tD:()=>i,p6:()=>d,Xk:()=>l,Ag:()=>g,ix:()=>u});const e="http://127.0.0.1:3000",s=`${e}/garage`,c=`${e}/winners`,o=`${e}/engine`,r=async(n,t=7)=>{const a=await fetch(`${s}?_page=${n}&_limit=${t}`);return{items:await a.json(),count:Number(a.headers.get("X-Total-Count"))}},i=async n=>{const t=await fetch(`${s}/${n}`,{method:"DELETE"}),a=await t.json();return console.log(a),a},d=async n=>{try{return(await fetch(`${o}?id=${n}&status=started`,{method:"PATCH"})).json()}catch(n){throw new Error(n.message)}},l=async n=>{const t=await fetch(`${o}/?id=${n}&status=stopped`,{method:"PATCH"}),a=await t.json();return console.log(a),a},g=async n=>{try{const t=await fetch(`${o}?id=${n}&status=drive`,{method:"PATCH"});return 200!==t.status?{success:!1}:Object.assign({},await t.json())}catch(n){throw new Error(n.message)}},u=async(n,t=10,a,e)=>{try{const o=await fetch(`${c}?_page=${n}&_limit=${t}&_sort=${a}&_order=${e}`,{method:"GET"});if(o.ok){const n=await o.json();return{items:await Promise.all(n.map((async n=>Object.assign(Object.assign({},n),await(async n=>{const t=await fetch(`${s}/${n}`),a=await t.json();return console.log(a),a})(n.id))))),totalCount:o.headers.get("X-Total-Count")}}throw Error(`error: ${o.status} ${o.statusText}`)}catch(n){throw Error("aaa")}}},283:(n,t,a)=>{a.d(t,{w:()=>e,y:()=>s});const e=n=>`\n  <?xml version="1.0" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"\n "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">\n<svg class='svg-car' version="1.0" xmlns="http://www.w3.org/2000/svg"\n width="1280.000000pt" height="640.000000pt" viewBox="0 0 1280.000000 640.000000"\n preserveAspectRatio="xMidYMid meet">\n<metadata>\nCreated by potrace 1.15, written by Peter Selinger 2001-2017\n</metadata>\n<g transform="translate(0.000000,640.000000) scale(0.100000,-0.100000)"\nfill="${n}" stroke="none">\n<path d="M3565 5336 c-106 -30 -101 -26 -108 -111 -4 -42 -9 -80 -12 -85 -6\n-10 -246 -105 -590 -234 -448 -167 -1052 -415 -1173 -483 -78 -43 -193 -91\n-250 -104 -23 -5 -98 -14 -165 -19 -67 -6 -167 -19 -222 -30 -154 -31 -340\n-49 -563 -57 l-203 -6 -43 -66 c-59 -91 -60 -95 -26 -130 37 -37 38 -65 3\n-150 -25 -62 -27 -78 -31 -256 l-4 -190 -38 -32 c-91 -78 -133 -209 -134 -418\n0 -194 11 -396 26 -482 13 -71 14 -74 72 -122 69 -58 130 -129 158 -184 64\n-126 534 -211 1384 -250 l92 -4 -6 119 c-6 142 8 256 49 383 112 352 394 622\n756 722 90 26 112 28 278 28 165 0 188 -2 278 -27 201 -56 361 -152 504 -302\n140 -145 222 -293 274 -492 21 -79 24 -109 23 -279 -1 -127 -6 -214 -16 -263\nl-15 -73 3006 7 c1653 4 3007 8 3009 9 1 1 -8 37 -20 81 -19 67 -22 105 -22\n259 -1 166 1 187 27 279 117 421 467 736 885 797 119 17 325 7 432 -21 239\n-63 453 -205 601 -399 70 -92 154 -267 185 -386 24 -88 27 -119 27 -260 1\n-116 -4 -181 -16 -234 -10 -41 -16 -75 -15 -76 2 -1 62 2 133 6 266 16 458 45\n525 79 48 24 97 81 127 146 l24 52 -16 157 c-15 152 -15 163 4 284 63 388 50\n680 -35 802 -134 193 -526 336 -1429 519 -737 149 -1322 209 -2033 210 -228 0\n-226 0 -347 85 -187 131 -1045 607 -1471 815 -383 187 -788 281 -1439 332\n-208 17 -1106 16 -1400 0 -121 -7 -314 -19 -430 -27 -302 -22 -286 -22 -341\n10 -140 81 -187 94 -269 71z m1885 -333 c6 -37 38 -238 71 -446 32 -209 66\n-422 75 -474 9 -52 15 -96 13 -97 -11 -9 -1699 29 -1951 44 -206 13 -417 36\n-485 54 -98 26 -198 119 -249 231 -35 75 -36 172 -5 255 17 45 30 61 68 86 83\n54 135 80 253 127 341 136 858 230 1460 267 269 16 270 16 511 18 l227 2 12\n-67z m630 47 c264 -18 777 -110 1029 -186 186 -56 445 -188 756 -387 211 -134\n274 -181 250 -185 -75 -12 -133 -50 -162 -106 -19 -35 -21 -136 -4 -179 l11\n-27 -907 2 -906 3 -59 160 c-110 302 -298 878 -298 916 0 6 95 2 290 -11z"/>\n<path d="M2633 3125 c-223 -40 -410 -141 -568 -306 -132 -138 -213 -283 -262\n-467 -22 -83 -26 -119 -26 -247 -1 -169 10 -236 65 -382 87 -230 271 -436 493\n-551 85 -44 178 -78 271 -98 107 -23 312 -23 419 1 392 84 699 375 802 761 23\n86 26 120 27 254 1 158 -5 199 -46 330 -98 310 -355 567 -668 669 -150 50\n-354 64 -507 36z m350 -301 c249 -56 457 -247 543 -499 25 -72 28 -95 28 -220\n1 -153 -15 -228 -74 -345 -94 -186 -283 -337 -485 -386 -96 -24 -268 -24 -360\n0 -320 84 -544 355 -562 681 -20 359 209 673 558 765 94 24 253 26 352 4z"/>\n<path d="M2600 2697 c-36 -13 -85 -36 -109 -51 l-44 -28 116 -115 c81 -82 120\n-114 131 -110 14 6 16 29 16 167 0 186 6 178 -110 137z"/>\n<path d="M2920 2561 c0 -139 2 -162 16 -168 11 -4 50 28 130 108 l115 114 -28\n22 c-34 28 -138 70 -193 79 l-40 7 0 -162z"/>\n<path d="M2282 2448 c-28 -36 -92 -191 -92 -225 0 -10 34 -13 165 -13 151 0\n165 1 165 18 0 15 -206 232 -221 232 -4 0 -11 -6 -17 -12z"/>\n<path d="M3222 2351 c-62 -59 -112 -115 -112 -124 0 -15 17 -17 165 -17 131 0\n165 3 165 13 0 40 -69 205 -95 227 -7 6 -48 -27 -123 -99z"/>\n<path d="M2781 2332 c-12 -22 11 -62 34 -62 8 0 21 10 29 22 20 28 4 58 -29\n58 -13 0 -29 -8 -34 -18z"/>\n<path d="M2749 2161 c-32 -33 -37 -67 -14 -110 29 -57 104 -64 151 -14 53 57\n9 153 -71 153 -27 0 -44 -8 -66 -29z"/>\n<path d="M2570 2125 c-26 -32 13 -81 48 -59 24 16 27 45 6 61 -23 17 -39 16\n-54 -2z"/>\n<path d="M3006 2124 c-20 -19 -20 -38 -2 -54 23 -19 61 -8 64 18 7 44 -32 67\n-62 36z"/>\n<path d="M2190 1975 c0 -29 41 -140 72 -194 l31 -53 117 117 c71 71 116 123\n113 131 -4 11 -40 14 -169 14 -141 0 -164 -2 -164 -15z"/>\n<path d="M3110 1972 c0 -9 51 -68 114 -131 l114 -114 31 54 c30 51 71 165 71\n195 0 11 -31 14 -165 14 -151 0 -165 -1 -165 -18z"/>\n<path d="M2780 1901 c-7 -15 -5 -24 8 -41 32 -40 85 -4 62 41 -14 25 -56 25\n-70 0z"/>\n<path d="M2562 1697 c-61 -62 -112 -115 -112 -119 0 -18 208 -108 249 -108 7\n0 11 54 11 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115 -113z"/>\n<path d="M2933 1803 c-15 -6 -19 -333 -4 -333 46 0 251 88 251 108 0 9 -223\n232 -230 231 -3 0 -11 -3 -17 -6z"/>\n<path d="M10700 3119 c-390 -84 -696 -376 -797 -759 -31 -117 -41 -292 -24\n-411 33 -227 150 -453 318 -609 267 -250 643 -344 993 -249 117 32 283 118\n380 196 487 396 518 1128 67 1560 -97 93 -166 140 -290 198 -137 64 -235 86\n-407 91 -120 3 -162 0 -240 -17z m445 -313 c238 -81 409 -258 486 -506 30 -96\n33 -289 5 -388 -110 -400 -513 -637 -911 -536 -149 38 -313 147 -402 267 -176\n238 -203 533 -71 797 34 69 60 103 138 180 77 78 111 104 181 139 129 65 207\n81 364 77 109 -3 143 -7 210 -30z"/>\n<path d="M10703 2700 c-54 -19 -153 -71 -153 -80 0 -3 51 -57 114 -119 80 -80\n119 -112 130 -108 14 5 16 29 16 167 l0 160 -27 -1 c-16 0 -52 -9 -80 -19z"/>\n<path d="M11020 2561 c0 -139 2 -162 16 -168 22 -8 247 216 234 232 -17 20\n-163 84 -207 91 l-43 7 0 -162z"/>\n<path d="M10366 2424 c-29 -44 -76 -165 -76 -194 0 -19 7 -20 165 -20 126 0\n165 3 165 13 0 7 -51 63 -114 126 l-114 114 -26 -39z"/>\n<path d="M11313 2348 c-61 -62 -109 -119 -106 -125 6 -15 333 -19 333 -4 0 45\n-88 241 -108 241 -4 0 -57 -51 -119 -112z"/>\n<path d="M10882 2338 c-17 -17 -15 -32 7 -52 16 -14 23 -15 41 -6 31 17 24 64\n-10 68 -14 2 -31 -3 -38 -10z"/>\n<path d="M10846 2159 c-68 -81 17 -194 110 -144 89 48 56 175 -46 175 -30 0\n-44 -6 -64 -31z"/>\n<path d="M10670 2126 c-19 -23 -8 -61 18 -64 44 -7 67 32 36 62 -19 20 -38 20\n-54 2z"/>\n<path d="M11106 2127 c-21 -16 -18 -45 7 -61 37 -23 77 35 41 61 -10 7 -21 13\n-24 13 -3 0 -14 -6 -24 -13z"/>\n<path d="M10290 1970 c0 -29 43 -141 74 -195 l28 -48 116 116 c81 81 113 120\n109 131 -6 14 -29 16 -167 16 -152 0 -160 -1 -160 -20z"/>\n<path d="M11207 1978 c-3 -7 47 -66 111 -130 l116 -118 27 43 c27 44 79 177\n79 203 0 12 -28 14 -164 14 -122 0 -166 -3 -169 -12z"/>\n<path d="M10881 1901 c-14 -25 -5 -48 20 -56 27 -9 51 13 47 44 -4 34 -51 43\n-67 12z"/>\n<path d="M10662 1697 c-61 -62 -112 -115 -112 -119 0 -20 201 -108 247 -108\n10 0 13 34 13 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115\n-113z"/>\n<path d="M11033 1803 c-10 -3 -13 -47 -13 -169 0 -90 4 -164 8 -164 36 0 186\n61 239 98 16 10 -216 242 -234 235z"/>\n</g>\n</svg>\n  `,s=()=>'\n<svg version="1.1" class="svg-flag" id="Capa_1" xmlns="http://www.w3.org/2000/svg"\n                                xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 301.596 301.596"\n                                style="enable-background:new 0 0 301.596 301.596;" xml:space="preserve">\n                                <g>\n                                    <path d="M42.594,15c0-8.284-6.716-15-15-15c-8.284,0-15,6.716-15,15v271.596c0,8.284,6.716,15,15,15c8.284,0,15-6.716,15-15\n                V167.878c0.001,0.001,0.003,0.001,0.004,0.002L42.594,15z" />\n                                    <path d="M241.884,82.119c-2.612-3.511-2.582-8.23,0.073-11.421c14.179-16.938,28.766-30.829,42.537-41.913\n                c12.138-9.769-3.688-16.893-7.238-18.387C205.001-20.024,132.811,43.637,60.598,24.255v150.269\n                c72.321,19.395,144.643-44.541,216.963-13.724c3.53,1.495,6.753,1.127,8.306-1.213c1.553-2.331,1.167-6.335-0.995-10.258\n                C270.543,123.431,256.213,101.49,241.884,82.119z" />\n                                </g>\n                                <g>\n                                </g>\n                                <g>\n                                </g>\n                                <g>\n                                </g>\n                                <g>\n                                </g>\n                                <g>\n                                </g>\n                                <g>\n                                </g>\n                                <g>\n                                </g>\n                                <g>\n                                </g>\n                                <g>\n                                </g>\n                                <g>\n                                </g>\n                                <g>\n                                </g>\n                                <g>\n                                </g>\n                                <g>\n                                </g>\n                                <g>\n                                </g>\n                                <g>\n                                </g>\n                            </svg>\n'},404:(n,t,a)=>{a.a(n,(async n=>{a.d(t,{O:()=>o,s:()=>r});var e=a(283),s=a(76),c=n([s]);s=(c.then?await c:c)[0];const o=()=>`\n    <div class="page-description">\n    <h1 class="amout-cars">Garage(${s.h.carsCount})</h1>\n    <h2 class="number-page"> Page#${s.h.carsPage}</h2>\n  </div>\n  ${s.h.cars.map((n=>`<div class="track-container">${(n=>`\n                        <div class="track-button-container">\n                            <button class="button-tack-up btn" id="remove-car-${n.id}">Update</button>\n                            <button class="button-tack-rem btn btn-remove" id="remove-car-${n.id}">Remove</button>\n                            <h3 class="car-model">${n.name}</h3>\n                        </div>\n                        <div class="engine-btn-container">\n                            <button class="btn-start" id="start-engine-car-${n.id}">A</button>\n                            <button class="btn-stop" id="remove-car-${n.id}">B</button>\n                        </div>\n                        <div class="car-container" id="car-${n.id}">\n                            ${(0,e.w)(n.color)}\n                        </div>\n                        <div class="flag-container" id="flag-${n.id}">\n                            ${(0,e.y)()}\n                        </div>\n              `)(n)}</div>`)).join("")}\n`,r=()=>{const n=`\n  <div class="wrapper">\n      <div class="menu">\n          <button class="button garage">Garage</button>\n          <button class="button winners">Winners</button>\n      </div>\n      <main class="garage-page">\n          <div class="garage-forms">\n              <form class="garage-form" id='create'>\n                  <input type="text" class="form-input" id='name'>\n                  <input type="color" class="form-input" id='color'>\n                  <button type="submit" class="button-form">Create</button>\n              </form>\n              <form class="garage-form" id='update'>\n                  <input type="text" class="form-input">\n                  <input type="color" class="form-input">\n                  <button type="submit" class="button-form">Update</button>\n              </form>\n          </div>\n          <div class="garage-button">\n              <button class="button-race">Race</button>\n              <button class="button-reset">Reset</button>\n              <button class="button-generate">Generate-cars</button>\n          </div>\n          <div id='garage-wrap'>\n          ${o()}</div>\n        \n      </main>\n      <footer class="footer">\n          <button class="btn-prev">Prev</button>\n          <button class="btn-next">Next</button>\n\n      </footer>\n  </div>\n</div>`,t=document.createElement("div");t.innerHTML=n,document.body.appendChild(t)}}))},76:(n,t,a)=>{a.a(n,(async n=>{a.d(t,{h:()=>r});var e=a(257);const{items:s,count:c}=await(0,e.Rn)(1),o=await(0,e.ix)(1,10,"id","ASC"),r={carsPage:1,cars:s,animation:{},carsCount:c,selectedId:-1,winnersPage:1,winners:o.items,winnersCount:o.totalCount};n()}),1)},598:(n,t,a)=>{a.a(n,(async n=>{a.d(t,{o:()=>i});var e=a(257),s=a(335),c=a(76),o=a(404),r=n([o,c]);[o,c]=r.then?await r:r;const i=()=>{document.body.addEventListener("click",(async n=>{const t=n.target;if(n.target.classList.contains("btn-start")&&(async n=>{const t=document.getElementById(`start-engine-car-${n}`);t.disabled=!0,t.classList.toggle("enabling",!0);const{velocity:a,distance:o}=await(0,e.p6)(n),r=Math.round(o/a);t.classList.toggle("enabling",!1),document.getElementById(`remove-car-${n}`).disabled=!1;const i=document.getElementById(`car-${n}`),d=document.getElementById(`flag-${n}`),l=Math.floor((0,s.h)(i,d))+50;c.h.animation[n]=(0,s.o)(i,l,r);const{success:g}=await(0,e.Ag)(n);g||window.cancelAnimationFrame(c.h.animation[n].id)})(+n.target.id.split("start-engine-car-")[1]),n.target.classList.contains("btn-stop")&&(async n=>{const t=document.getElementById(`remove-car-${n}`);t.disabled=!0,t.classList.toggle("enabling",!0),await(0,e.Xk)(n),t.classList.toggle("enabling",!1),document.getElementById(`start-engine-car-${n}`).disabled=!1;const a=document.getElementById(`car-${n}`);a&&(a.style.transform="translateX(0)"),c.h.animation[n]&&window.cancelAnimationFrame(c.h.animation[n].id)})(+n.target.id.split("remove-car-")[1]),t.classList.contains("btn-remove")){const n=+t.id.split("remove-car-")[1];await(0,e.tD)(n),await(async()=>{const{items:n,count:t}=await(0,e.Rn)(c.h.carsPage);c.h.cars=n,c.h.carsCount=t,(0,o.O)()})(),(0,o.O)()}}))}}))},335:(n,t,a)=>{function e(n){const{top:t,left:a,width:e,height:s}=n.getBoundingClientRect();return{x:a+e/2,y:t+s/2}}function s(n,t){const a=e(n),s=e(t);return Math.hypot(a.x-s.x,a.y-s.y)}function c(n,t,a){let e=null;const s={};return s.id=window.requestAnimationFrame((function c(o){e||(e=o);const r=o-e,i=Math.round(r*(t/a));n.style.transform=`translateX(${Math.min(i,t)}px)`,i<t&&(s.id=window.requestAnimationFrame(c))})),s}a.d(t,{h:()=>s,o:()=>c})},303:(n,t,a)=>{a.a(n,(async n=>{var t=a(404),e=a(598),s=a(76),c=n([e,t,s]);[e,t,s]=c.then?await c:c,(0,t.s)(),(0,e.o)()}))}},o={};function r(n){var t=o[n];if(void 0!==t)return t.exports;var a=o[n]={exports:{}};return c[n](a,a.exports,r),a.exports}n="function"==typeof Symbol?Symbol("webpack then"):"__webpack_then__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",a=n=>{n&&(n.forEach((n=>n.r--)),n.forEach((n=>n.r--?n.r++:n())))},e=n=>!--n.r&&n(),s=(n,t)=>n?n.push(t):e(t),r.a=(c,o,r)=>{var i,d,l,g=r&&[],u=c.exports,p=!0,m=!1,h=(t,a,e)=>{m||(m=!0,a.r+=t.length,t.map(((t,s)=>t[n](a,e))),m=!1)},b=new Promise(((n,t)=>{l=t,d=()=>(n(u),a(g),g=0)}));b[t]=u,b[n]=(n,t)=>{if(p)return e(n);i&&h(i,n,t),s(g,n),b.catch(t)},c.exports=b,o((c=>{if(!c)return d();var o,r;i=(c=>c.map((c=>{if(null!==c&&"object"==typeof c){if(c[n])return c;if(c.then){var o=[];c.then((n=>{r[t]=n,a(o),o=0}));var r={};return r[n]=(n,t)=>(s(o,n),c.catch(t)),r}}var i={};return i[n]=n=>e(n),i[t]=c,i})))(c);var l=new Promise(((n,a)=>{(o=()=>n(r=i.map((n=>n[t])))).r=0,h(i,o,a)}));return o.r?l:r})).then(d,l),p=!1},r.d=(n,t)=>{for(var a in t)r.o(t,a)&&!r.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:t[a]})},r.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),r(303)})();